\input{../head}

\usepackage{enumitem}
\usepackage{textcomp}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\begin{document}

\anyag{7. Prototípus koncepciója}
\fedlap

\addtocounter{section}{6}
\section{Prototípus koncepciója}

	\subsection{Prototípus interface-definíciója}
	%Definiálni kell a teszteket leíró nyelvet. Külön figyelmet kell fordítani arra, hogy ha a rendszer véletlen elemeket is tartalmaz, akkor a véletlenszerűség ki-bekapcsolható legyen, és a program determinisztikusan is tesztelhető legyen.
	    \subsubsection{Az interfész általános leírása}
	    %A protó (karakteres) input és output felületeit úgy kell kialakítani, hogy az input fájlból is vehető legyen illetőleg az output fájlba menthető legyen, vagyis kommunikációra csak a szabványos be- és kimenet használható.
	    A prototípus célja, hogy képet kapjunk a szkeletonban külön-külön tesztelt kommunikációs egységek integrálás utáni helyes működéséről. A prototípus egyrészről tehát egy integrációs teszt, másrészről viszont egyszerre egy működőképes program is, mely az egyszerűség érdekében nélkülözi a grafikus felületet, parancssoros kommunikációt használ. A felhasználó a tesztelés során a prototípussal parancsok útján léphet interakcióba, így befolyásolva annak futását. A parancsok futtatása után a kimenet összevethető a specifikációval.
	    
	    \subsubsection{Bemeneti nyelv}
	    %Definiálni kell a teszteket leíró nyelvet. Külön figyelmet kell fordítani arra, hogy ha a rendszer véletlen elemeket is tartalmaz, akkor a véletlenszerűség ki-bekapcsolható legyen, és a program determinisztikusan is futtatható legyen. A szálkezelést is tesztelhető, irányítható módon kell megoldani.
	    %Parancs1 \ Leírás: \ Opciók:
	    
	    A felhasználó a következő parancsok állnak rendelkezésére a tesztelés során:
	    
	    \newcommand{\cmd}[1]{\item{\texttt{#1}} }
	    \begin{description}
	        \cmd{timerStart}: Idő múlását nyilvántartó számláló indítása
	        \cmd{timerStop}: Idő múlását nyilvántartó számláló megállítása
	        \cmd{tick} \emph{count}: Megadott számú öraütést szimulál
	        \cmd{loadMap} \emph{mapId}: Megadott pálya betöltése
	        \cmd{move} \emph{stickmanId} \emph{direction}: A megadott azonosítójú stickman megfelelő irányba mozgatása (up, right, down, left)
	        \cmd{viewportSwitch}: Pálya- és Közeli-nézet közötti váltás
	        \cmd{moveFrame} \emph{direction}: Keret mozgatása pályanézetben a megadott irányba (up, right, down, left)
        \end{description}
        
        A parancsokat a program a sztandard bemenetről olvassa be, így tetszőleges fájl beállítható a prancsok forrásának, ha a megfelelő fájlt a bemenetre irányítjuk.
        
        \subsubsection{Pálya fájlreprezentációja}
        %Ha szükséges, meg kell adni a konfigurációs (pl. pályaképet megadó) fájlok nyelvtanát is.
        A felhasznált pályákat a program fájlokból olvassa be, melyek felépítése a következő: A fájlok soralapúak, minden sor egy objektumot kódol a pályán. A sor elején a konkért objektumot azonosító név áll, majd egy tabulátorral elválasztva következnek a paraméterei. A különböző objektumok tetszőleges számú paramétert vehetnek át, mely paramétereket tabulátorral elválasztva kell az objektum neve után felsorolni. Minden, a pályán szereplő objektum első 4 paramétere (ha specifikált), rendre a következő attribútumokat kódolja: Pálya bal felső sarkától számított (abszolút) x irányú eltolás, y irányú eltolás, objektum szélessége, objektum magassága. A pálya fájlban a következő objektumnevek szerepelhetnek: \texttt{Door, Key, Platform, Stickman}. A pályán található keretek számának és elhelyezkedésének megadására nincs szükség, azt a program az elhelyezett elemek pozíciója alapján dinamikusan építi fel.
        
	    \subsubsection{Kimeneti nyelv}	
	    %Egyértelműen definiálni kell, hogy az egyes bemeneti parancsok végrehajtása után előálló állapot milyen formában jelenik meg a szabványos kimeneten.	
	    A karakteres kimeneten minden -- a modell állapotának változását okozó -- esemény, valamint bármely parancs után megjelenik a modell aktuális állapotát reprezentáló szöveges ábra. Az ábrán a következő szimbólumok fordulhatnak elő:
	    
	    \begin{description}
	        \newcommand{\frameitem}[1]{\item{\textbf{#1}} }
	        % pdflatex doesn't accept the following symbols, use simpler ones
	        % ☺, ☻, █, ⚷, ☐
	        \frameitem{Ö, Ó}: A stickmanek
	        \frameitem{|, --, +}: Keret függőleges széle, keret vízszintes széle, keret sarka
	        \frameitem{\#}: Platform
	        \frameitem{*}: Kulcs
	        \frameitem{Đ}: Ajtó
        \end{description}

        A pálya szöveges reprezentációja például az alábbi formát öltheti:
        
		\begin{figure}[hb]
		  \begin{center}
		  % let me introduce the centering of dummy people
		\begin{verbatim}
                +----------+ +----------+ +----------+
                |          | |        ##| |#        #|
                |  Ö##   ##| |##        | |#   *     |
                |##########| |##########| |##########|
                +----------+ +----------+ +----------+
                +----------+ +----------+
                |##   *    | |##     ###|
                |    ##    | |    Ó   Đ |
                |##########| |##########|
                +----------+ +----------+
		\end{verbatim}
		  \caption{A pálya szöveges reprezentációja}
		  \end{center}
		\end{figure}        
        
        Mivel a program a kimenetét sztandard kimenetre írja ki, így az egyszerűen elemezhető a konzolon vagy írható fájlba.
	
	\subsection{Összes részletes use-case}
        %domain specific commands
        \newcommand{\ucitem}[1]{\item \textbf{Név: #1}\\}
        \newcommand{\ucdesc}[1]{\textbf{Rövid leírás: } #1\\}
        \newcommand{\ucact}[1]{\textbf{Actor: } #1\\}
        \newcommand{\ucscenario}[1]{\textbf{Forgatókönyv: }#1\\}
        \newcommand{\uccommand}[1]{\textbf{Parancs: }#1\\}
        
		\begin{center}	
		    \includegraphics[scale=0.9]{resources/player.png}
		\end{center}        
        
        \subsubsection{Actorhoz kapcsolódó use-case-ek} 
		
	    \begin{enumerate}[label=\textbf{\arabic*.}, start=1]
	        \ucitem{Játék indítása} 
	        \ucdesc{A felhasználó elindítja a játékot.} 
	        \ucact{Játékos}
	        \ucscenario{A pálya betöltődik, a stickmanek és a többi frameitem elhelyeződik a pályán.} 
	        \uccommand{} %TODO
		
	        \ucitem{Játék szüneteltetése} 
	        \ucdesc{A játék megállítása, szüneteltetése} 
	        \ucact{Játékos}
	        \ucscenario{Az idő számlálása leáll, az irányítás letiltódik.} 
	        \uccommand{} %TODO
		
	        \ucitem{Játék folytatása} 
	        \ucdesc{Megállított játék folytatása} 
	        \ucact{Játékos}
	        \ucscenario{Az idő számlálása újraindul, irányítás újra engedélyezése, a játék a szüneteltetés kezdetétől folytatódik.} 
	        \uccommand{} %TODO
		
	        \ucitem{Játék befejezése} 
	        \ucdesc{Kilépés a játékból.} 
	        \ucact{Játékos}
	        \ucscenario{Az utolsó mentett pozíció alapján a játék mentése. Fájlok lezárása és kilépés a programból.} 
	        \uccommand{} %TODO
	        
	        \ucitem{Stickman mozgatása} 
	        \ucdesc{Játékos irányítja az egyik Stickmant.} 
	        \ucact{Játékos}
	        \ucscenario{A lehetséges irányok: jobbra, balra, fel(ugrás).}
	        \uccommand{move \emph{stickmanID direction}}
		
	        \ucitem{Nézetváltás} 
	        \ucdesc{A játékos nézetet vált.} 
	        \ucact{Játékos}
	        \ucscenario{Ha közeli nézetben volt, akkor pálya nézetbe lép, ahol látja a kereteket. Ekkor a Stickman irányítása letiltódik és a keret átrendezés irányítása aktiválódik. Ha pálya nézetben volt, akkor fordítva.} 
	        \uccommand{viewportSwitch}
	        
	        \ucitem{Keret átrendezése} 
	        \ucdesc{Pálya nézetben a keretek átrendezése.} 
	        \ucact{Játékos}
	        \ucscenario{A megadott irányok mentén a frame-ek helyet cserélnek, a keretek átrendeződnek, mindig az üres keret irányába.} 
	        \uccommand{moveFrame \emph{direction}}
	    \end{enumerate}
	    
        \subsubsection{Időhöz kapcsolódó use-case-ek} 
		
	    \begin{enumerate}[label=\textbf{\arabic*.}, start=1]
	        \ucitem{Idő léptetése} 
	        \ucdesc{Jelzi az idő múlását.} 
	        \ucact{Óra}
	        \ucscenario{Számítógép által vezérelt, idő léptetés, amely a Stickman vertikális pozícióját befolyásolja.} 
	    \end{enumerate}
	    
        \subsubsection{Stickman(ek)hez kapcsolódó use-case-ek} 

	    \begin{enumerate}[label=\textbf{\arabic*.}, start=1]
	    
	        \ucitem{Stickmanek találkozása} 
	        \ucdesc{Két Stickman mozgásuk során találkozik.} 
	        \ucact{Játékos}
	        \ucscenario{A két Stickman nem lép egymással reakcióba, elhaladnak egymás mellett.} 
		
	        \ucitem{Kulcs megérintése} 
	        \ucdesc{A Stickman mozgása során felvesz egy kulcsot.} 
	        \ucact{Játékos}
	        \ucscenario{A kulcs felvevődik.}
		
	        \ucitem{Ajtó megérintése}
	        \ucdesc{A Stickman mozgása során egy ajtóhoz ér.}
	        \ucact{Játékos}
	        \ucscenario{Amennyiben minden kulcsot megszereztek, akkor vége a pályának, ha nem akkor áthalad az ajtó előtt a Stickman.}

	        \ucitem{Foglalt területre lépés} 
	        \ucdesc{A Stickman mozgásának irányában foglalt terület van.} 
	        \ucact{Játékos}
	        \ucscenario{Platform lévén a lépés érvénytelenítése, a Stickman nem mozog tovább.} 

	        \ucitem{Másik keretbe mozgás} 
	        \ucdesc{A Stickman beleesik egy másik keretbe, vagy átmozog egybe.} 
	        \ucact{Játékos}
	        \ucscenario{Amennyiben a két keret átjárható, a stickman átmozog rajtuk.}
	        
	        \ucitem{Keretből kiesés} 
	        \ucdesc{A Stickman kiesik a keretből lefele, üres keretbe.}
	        \ucact{Játékos}
	        \ucscenario{A kiesés hatására a Stickman "meghal", visszakerül a legutóbbi mentett pozícióba.}
	        
	    \end{enumerate}
	    
%        \subsubsection{XYZ Actor use-case-ek} % TODO
%		
%	    \begin{enumerate}[label=\textbf{\arabic*.}, start=1]
%	        \ucitem{} % TODO
%	        \ucdesc{} % TODO
%	        \ucact{Játékos}
%	        \ucscenario{}
%	    \end{enumerate}
	    
    	\subsection{Tesztelési terv}
			\newcommand{\testitem}[1]{\item \textbf{Név: #1}\\}
			\newcommand{\tdesc}[1]{\textbf{Leírás: } #1\\}
			\newcommand{\tcel}[1]{\textbf{Cél:} #1\\}
	
			\begin{enumerate}[label=\textbf{\arabic*.}, start=1]
			    \testitem{T teszt neve} % TODO
		        \tdesc{T teszt leírása} % TODO
		        \tcel{T teszt célja} % TODO
			\end{enumerate}
	    	
	\subsection{Tesztelést támogató segéd- és fordítóprogramok specifikálása}		
A tesztelés során keletkező kimenetek összehasonlítása az előre definiált kimenetekkel nem kézi erővel történik, erre a unix(-like) rendszereken megtalálható \texttt{diff} -- vagy azzal azonos funkcionalitású, más platformon futó -- programot fogunk használni. Egy teszteset akkor tekinthető sikeresnek, ha a \texttt{diff} program nem jelez különbséget a kapott kimenet és az előre definiált kimenet között.

	\subsection{Napló}
	% The diary generator uses the following comments to identify the beginning and the ending of the generated diary
	% The following content is auto generated, please do NOT modify, edit the related shared document instead.
	%GENERATOR:DIARY
    %GENERATOR:DIARY
\end{document}
